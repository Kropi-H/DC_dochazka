{% extends 'base.html' %}
{% import "bootstrap/wtf.html" as wtf %}

{% block body %}

<div class="container">
    <div class="py-5 text-center">

        <form class="form-signin" style="max-width: 600px; margin:auto;padding:15px"
              action="{{ url_for('set_attendance') }}" method='POST'>

            <div class="" style="display:flex; justify-content:center">
                <h1>Doplnění docházky</h1>
            </div>
            <div class="row">

                    {{ attendance_form.csrt_token }}
                    {{ attendance_form.hidden_tag() }}

                <div class="col-md-12">
                {% for name in list_of_workers %}
                    <span class="worker_checkbox">{{ name }} <input type="checkbox" value={{ name }} name="worker"></span>
                {% endfor %}
                </div>
                    <div class="col-md-4 mb-15">

                        {% if attendance_form.startdate.errors %}
                        {% for error in attendance_form.startdate.errors %}
                        <label class="control-label" for="startdate">{{ error }}</label>
                        {% endfor %}
                        {% else %}
                        {{ attendance_form.startdate.label(class='form-control-label', for='startdate') }}
                        {% endif %}
                        {{attendance_form.startdate(class='form-control', id='startdate')}} {{attendance_form.hidden_tag()}}

                    </div>
                    <div class="col-md-4 mb-15">
                        {{ attendance_form.starttime.label(class='form-control-label', for='starttime') }}
                        {{ attendance_form.starttime(class='form-control') }} {{ attendance_form.hidden_tag() }}
                        <small>
                        </small>
                    </div>

                    <div class="col-md-4 mb-15">
                        {{ attendance_form.endtime.label(class='form-control-label', for='endtime') }}
                        {{ attendance_form.endtime(class='form-control') }} {{ attendance_form.hidden_tag() }}
                        <small>
                        </small>
                    </div>



                    <div class="col-md-6 mb-15">
                        {{ attendance_form.selectfield.label(class='form-control-label', for='selectfield') }}
                        {{attendance_form.selectfield(class='form-control',onchange='showDiv(this)')}} {{attendance_form.hidden_tag()}}
                    </div>
                    <div class="col-md-6 mb-15" id="field_num" style="display:none">
                        {{ attendance_form.numberfield.label(class='form-control-label', for='numberfield') }}
                        {{ attendance_form.numberfield(class='form-control') }} {{ attendance_form.hidden_tag() }}
                    </div>


                <div class="form-group mb-15">
                    <div class="col-md-12 mb-15">
                        {{attendance_form.textfield(class='form-control')}} {{attendance_form.hidden_tag()}}
                    </div>
                </div>
            </div>
            {{attendance_form.submit(class="btn btn-primary btn-lg btn-block")}}

        </form>
    </div>
    {% if user %}
<div>
    <p class="mynav">Naposledy přihlášen:</p>
    <ul class="nav navbar-nav">
    {% for worker in worker_list%}
        <li>
        <p>
        {{ worker['name'] }} {{ worker['date'] }}
        <span class="badge">{{ worker['count'] }}</span>
        </p>
        </li>
        {% endfor %}
</ul>
</div>
{% endif %}
</div>

{% endblock %}
